
<%= form_with url: session_path do |form| %>
  <%= form.email_field :email_address, required: true, autofocus: true, autocomplete: "username", placeholder: "Enter your email address", value: params[:email_address] %><br>
  <%= form.submit "Sign in" %>
<% end %>
<br>

<%= link_to "Forgot password?", new_password_path %>

<%= tag.div(flash[:alert], style: "color:red") if flash[:alert] %>
<%= tag.div(flash[:notice], style: "color:green") if flash[:notice] %>

<!-- 登入 Modal 背景覆蓋層 -->
<div id="loginModal" class="fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50">
  <!-- Modal 容器 -->
  <div class="bg-gray-800 rounded-lg shadow-xl w-full max-w-md overflow-hidden">
    <!-- Modal 標題 -->
    <div class="bg-gray-900 px-6 py-4 border-b border-gray-700">
      <h3 class="text-xl font-medium text-white flex items-center">
        <i class="fas fa-user-circle mr-2"></i>
        <span>登入到 Tailwind CSS 社群</span>
      </h3>
    </div>
    
    <!-- Modal 內容 -->
    <div class="p-6">
      <%= form_with url: session_path do |form| %>
        <!-- 帳號輸入 -->
        <div class="mb-4">
          <label class="block text-gray-300 text-sm font-medium mb-2" for="username">
            E-Mail
          </label>
          <div class="relative">
            <span class="absolute inset-y-0 left-0 flex items-center pl-3">
              <i class="fas fa-user text-gray-500"></i>
            </span>
            <%= form.email_field :email_address, required: true, autofocus: true, autocomplete: "username", placeholder: "Enter your email address", value: params[:email_address], class: "bg-gray-700 text-white rounded-md pl-10 py-2.5 px-4 w-full placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent" %>
          </div>
        </div>
        
        <!-- 密碼輸入 -->
        <div class="mb-6">
          <label class="block text-gray-300 text-sm font-medium mb-2" for="password">
            密碼
          </label>
          <div class="relative">
            <span class="absolute inset-y-0 left-0 flex items-center pl-3">
              <i class="fas fa-lock text-gray-500"></i>
            </span>
            <%= form.password_field :password, required: true, autocomplete: "current-password", placeholder: "Enter your password", maxlength: 72, class: "bg-gray-700 text-white rounded-md pl-10 py-2.5 px-4 w-full placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent" %>
            <button type="submit" id="togglePassword" class="absolute inset-y-0 right-0 pr-3 flex items-center">
              <i class="fas fa-eye text-gray-500 hover:text-gray-300"></i>
            </button>
          </div>
        </div>
        
        <!-- 記住我和忘記密碼 -->
        <div class="flex items-center justify-between mb-6">
          <div class="flex items-center">
            <input id="remember" type="checkbox" class="bg-gray-700 border-gray-600 rounded text-blue-500 focus:ring-blue-500 focus:ring-offset-gray-800">
            <label for="remember" class="ml-2 text-sm text-gray-300">
              記住我
            </label>
          </div>
          <a href="<%=new_password_path%>" class="text-sm text-blue-400 hover:text-blue-300">
            忘記密碼？
          </a>
        </div>
        
        <!-- 登入按鈕 -->
        <button type="submit" class="bg-indigo-600 hover:bg-indigo-700 text-white font-medium py-2.5 px-4 w-full rounded-md transition duration-200 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 focus:ring-offset-gray-800">
          登入
        </button>
      <% end %>
      

    </div>
    
    <!-- Modal 底部 -->
    <div class="bg-gray-900 px-6 py-4 border-t border-gray-700 flex justify-center">
      <span class="text-gray-400 text-sm">
        還沒有帳號？
        <a href="#" class="text-blue-400 hover:text-blue-300 font-medium">
          立即註冊
        </a>
      </span>
    </div>
  </div>
</div>